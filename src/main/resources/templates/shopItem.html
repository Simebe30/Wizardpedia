<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Shop</title>
    <link rel="stylesheet" type="text/css" th:href="@{/styleAdd.css}">
</head>
<body>

<label for="magicItemType">Select Magic Item Type:</label>
<select id="magicItemType" onchange="showForm(this.value)">
    <option value="protective">Protective Magical Item</option>
    <option value="offensive">Offensive Magical Item</option>
</select>

<form id="protectiveForm" style="display: block;" th:action="@{/protective/shop}" th:method="post">
    <label>Select a Protective Item:
        <select onchange="updateValue()" id="itemType" name="protective">
            <option th:each="item : ${protectives}" th:value="${item}" th:text="${item.name}"></option>
        </select>
    </label>

    <label>Give a name to the magical item:
        <input type="text" name="displayName" required>
    </label>

    <label>Select a Wizard:
        <select name="wizardId">
            <option th:each="wizard: ${wizards}" th:object="${wizard}" th:text="${wizard.getName()}" th:value="${wizard.getId()}"></option>
        </select>
    </label>

    <button type="submit">Submit</button>
</form>

<p>Item Details:</p>
<ul>
    <li>Name: <span id="itemName"></span></li>
    <li>Power Level: <span id="itemPower"></span></li>
    <li>Price: $<span id="itemPrice"></span></li>
</ul>


<script th:inline="javascript">

    function showForm(selectedOption) {
        let protectiveForm = document.getElementById("protectiveForm");
        let offensiveForm = document.getElementById("offensiveForm");

        if (selectedOption === "protective") {
            protectiveForm.style.display = "block";
            offensiveForm.style.display = "none";
        } else if (selectedOption === "offensive") {
            protectiveForm.style.display = "none";
            offensiveForm.style.display = "block";
        }
    }
    function updateValue() {
        // Get the selected item type
        let itemTypeSelect = document.getElementById("itemType");
        let selectedItemType = itemTypeSelect.value;

        console.log('Selected Item Type:', selectedItemType);

        let itemName, itemPower, itemPrice;

        switch (selectedItemType) {
            case "SHIELD":
                itemName = "Shield";
                itemPower = 10;
                itemPrice = 50;
                break;
            case "ARMOR":
                itemName = "Armor";
                itemPower = 20;
                itemPrice = 100;
                break;

            default:
                itemName = "";
                itemPower = 0;
                itemPrice = 0;
        }

        // Log details to the console
        console.log('Item Name:', itemName);
        console.log('Item Power:', itemPower);
        console.log('Item Price:', itemPrice);

        // Update the displayed details
        document.getElementById("itemName").innerText = itemName;
        document.getElementById("itemPower").innerText = itemPower;
        document.getElementById("itemPrice").innerText = itemPrice;
    }

    // Call the function on page load to set initial values


</script>


</body>
</html>
